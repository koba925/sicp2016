
# SICPを読む(4)

## 1.2.3 Orders of Growth

* プロセスがリソースを消費する度合いはプロセスによって大きく異なる
* 入力が大きくなるにつれ、リソースがどれくらいかを表すには「オーダ」記法を使うのが便利
* 問題のサイズをnで表し、そのときのリソースをR(n)で表す
* R(n)がf(n)と同じような感じで増えるときR(n)=Θ(f(n))と書く

さすがに大ざっぱすぎるかな
まあいいや
テキスト見てください

### Exercise 1.14.

さっき6セントでやったから雰囲気はわかります
オーダは指数オーダになりそうだけどもっと詳しくわかるのかな？
何かの累乗になる、以上は難しそうな気もしますけど
fibでは具体的にΘ(((1+√5)/2)^n)まで書いてあったし

やっぱり一応樹形図を描いてみます
それでわからなかったら置いとくことに

●樹形図

偏りの大きい2分木ができました

硬貨の種類は変わらないとして、n円を両替するときの深さは最大のところでn+5-1=n+4
必要なスペースは木の深さで決まるからΘ(n)
これは問題ないです

問題は計算ステップ数
2分木で深さがn+4だからいくら多くても2^(n+4)よりは少ないはず
+4がくっついてるけど8*2^nだから気にしなくてOK
だからといってΘ(2^n)かというとそうとも限らない気がする
よくでてくるO記法と違ってここで出てくるΘは上下から挟まれてる

> k1f(n) ≦ R(n) ≦ k2f(n)

f(n)=2^nとすると、大きなnを取ったときk1f(n) > R(n)となってしまう可能性が捨てきれない
一般項を求めるレベルでキッチリできれば安心できるけど・・・求まるかなそれ

完全に繁った2分木なら深さがnのとき葉は2^n個ある
この樹形図で見れば2^nよりかなり少ない
少ない度合いがnにかかわらず一定ならΘ(2^n)でいい
そうでなければ2よりも小さい数のn乗ってこともありうる
基数が異なれば違うオーダになる

Θ(2^n)でいいような気もするけど証明する方法は思いつかない
うーんやっぱり置いとこう
（数学な問題だし）

### Exercise 1.15

a.
`(p (sine (/ angle 3.0)))`を見るとpを呼ぶごとに角度が1/3になることがわかります
12.15*(1/3)^nが0.1以下になる最初のnは5だから5回

b.
1回再帰するごとに3倍大きな角度まで計算できるようになるので、計算ステップ数はlog3(a)
底が変わっても定数倍だからΘ(log(a))でいいかな
線形再帰だから必要なスペースも同じペースで成長してΘ(log(a))
## 1.2.4 Exponentiation

* べき乗を再帰で書くと、ステップ数もスペースもΘ(n)
* 繰り返しで書くとステップ数はΘ(n)、スペースはΘ(1)
* もっとうまいやり方がある

> ```
> (define (fast-expt b n)
>   (cond ((= n 0) 1)
>         ((even? n) (square (fast-expt b (/ n 2))))
>         (else (* b (fast-expt b (- n 1))))))
> ```

* これだと、1ステップ増えるごとに倍の大きさの数が処理できることになる
* ステップ数もスペースもΘ(log n)
* Θ(n)とΘ(log n)は

