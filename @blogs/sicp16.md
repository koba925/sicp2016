# SICPを読む(16)

## 2.2.2 Hierarchical Structures

* 列をリストで表す表現方法は、リストの要素自体がリストであるような場合に一般化できる
* これを「木」と考えることもできる

リストの要素がまたリスト、と考えて低レベルに表現すれば箱矢印になります
木と考える方が少し抽象度が上がってる気がします

* 木に含まれる葉の数を数えるにはこうする
  * 空リストのcount-leavesは０
  * 木のcount-leavesはcarのcount-leavesとcdrのcount-leavesを加えたもの
  * 葉のcount-leavesは1

本に出てくる順に並べましたが、並び順に意味はあるんでしょうか
本に出てくるコードはこうなので、コードの並び順と対応しているわけではなさそうです
コードの並び順は手習いと同じですね

```
(define (count-leaves x)
  (cond ((null? x) 0)
        ((not (pair? x)) 1)
        (else (+ (count-leaves (car x))
                 (count-leaves (cdr x))))))
```

でも単純な条件から並んでいるわけでもない
わかりやすい順？

ところで手習いではatom?を使ってたところが`(not (pair x))`になってます
atom?はなんで組み込みじゃないんでしょうか
基本的なものだと思うんですけど

上のコードとatom?の定義を比べると`(not (null? x))`が含まれてませんね
ひとつめの条件でチェック済みだからですけど
atom?でチェックするとnull?のチェックが二重になってしまうから？
うーんそうかなあ

R5RSの中にも'atom'って言葉はほとんど出てきてないですね
説明もなくdefine-syntaxの構文の中にちらっと現れるくらい
アトムっていう概念を抹殺しようということでしょうか
